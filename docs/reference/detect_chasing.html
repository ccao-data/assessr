<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Detect Sales Chasing in Ratios — detect_chasing • assessr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />
<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Detect Sales Chasing in Ratios — detect_chasing" />

<meta property="og:description" content="Sales chasing is when a property is selectively reappraised to
  shift its assessed value toward its actual sale price. Sales chasing is
  difficult to detect. This function is NOT a statistical test and does
  not provide the probability of the given result. Rather, it combines two
  novel methods to roughly estimate if sales chasing has occurred.
The first method (dist) uses the technique outlined in the
  IAAO Standard on Ratio Studies
  Appendix E, Section 4. It compares the percentage of real data within +-2
  of the mean ratio to the percentage of data within the same bounds given a
  constructed normal distribution with the same mean and standard deviation.
  The intuition here is that ratios that are sales chased may be more
  &quot;bunched up&quot; in the center of the distribution.
The second method (cdf) detects discontinuities in the cumulative
  distribution function (CDF) of the input vector. Ratios that are not sales
  chased should have a fairly smooth CDF. Discontinuous jumps in the CDF,
  particularly around 1, may indicate sales chasing. This can usually be seen
  visually as a &quot;flat spot&quot; on the CDF." />

<meta property="og:image" content="/logo.png" />





<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">assessr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Detect Sales Chasing in Ratios</h1>
    
    <div class="hidden name"><code>detect_chasing.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Sales chasing is when a property is selectively reappraised to
  shift its assessed value toward its actual sale price. Sales chasing is
  difficult to detect. This function is NOT a statistical test and does
  not provide the probability of the given result. Rather, it combines two
  novel methods to roughly estimate if sales chasing has occurred.</p>
<p>The first method (dist) uses the technique outlined in the
  <a href='https://www.iaao.org/media/standards/Standard_on_Ratio_Studies.pdf'>IAAO Standard on Ratio Studies</a>
  Appendix E, Section 4. It compares the percentage of real data within +-2<!-- % -->
  of the mean ratio to the percentage of data within the same bounds given a
  constructed normal distribution with the same mean and standard deviation.
  The intuition here is that ratios that are sales chased may be more
  "bunched up" in the center of the distribution.</p>
<p>The second method (cdf) detects discontinuities in the cumulative
  distribution function (CDF) of the input vector. Ratios that are not sales
  chased should have a fairly smooth CDF. Discontinuous jumps in the CDF,
  particularly around 1, may indicate sales chasing. This can usually be seen
  visually as a "flat spot" on the CDF.</p>
    
    </div>

    <pre class="usage"><span class='fu'>detect_chasing</span>(<span class='no'>ratio</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"both"</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='fu'>detect_chasing_cdf</span>(<span class='no'>ratio</span>, <span class='kw'>bounds</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.98</span>, <span class='fl'>1.02</span>), <span class='kw'>cdf_gap</span> <span class='kw'>=</span> <span class='fl'>0.03</span>, <span class='no'>...</span>)

<span class='fu'>detect_chasing_dist</span>(<span class='no'>ratio</span>, <span class='kw'>bounds</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.98</span>, <span class='fl'>1.02</span>), <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>ratio</th>
      <td><p>A numeric vector of ratios centered around 1, where the
numerator of the ratio is the estimated fair market value and the
denominator is the actual sale price.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>Default "both". String indicating sales chasing detection
method. Options are <code>cdf</code>, <code>dist</code>, or <code>both</code>.</p></td>
    </tr>
    <tr>
      <th>na.rm</th>
      <td><p>Default FALSE. A boolean value indicating whether or not to
remove NA values. If missing values are present but not removed the
function will output NA for those values.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Named arguments passed on to methods.</p></td>
    </tr>
    <tr>
      <th>bounds</th>
      <td><p>Ratio boundaries to use for detection. The CDF method will
return TRUE if the CDF gap exceeding the threshold is found within these
bounds. The distribution method will calculate the percentage of ratios
within these bounds for the actual data and an ideal normal distribution.
Expanding these bounds increases likelihood of detection.</p></td>
    </tr>
    <tr>
      <th>cdf_gap</th>
      <td><p>Ratios that have bunched up around a particular value
(typically 1) will appear as a flat spot on the CDF. The longer this flat
spot, the worse the potential sales chasing. This variable indicates the
length of that flat spot and can be thought of as the proportion of ratios
that have the same value. For example, 0.03 means that 3<!-- % of ratios share -->
the same value.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A logical value indicating whether or not the input ratios may
  have been sales chased.</p>
    
    <h2 class="hasAnchor" id="functions"><a class="anchor" href="#functions"></a>Functions</h2>

    
<ul>
<li><p><code>detect_chasing_cdf</code>: CDF gap method for detecting sales chasing.</p></li>
<li><p><code>detect_chasing_dist</code>: Distribution comparison method
for detecting sales chasing.</p></li>
</ul>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Generate fake data with normal vs chased ratios</span>
<span class='no'>normal_ratios</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='fl'>1000</span>, <span class='fl'>1</span>, <span class='fl'>0.15</span>))
<span class='no'>chased_ratios</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='fl'>900</span>, <span class='fl'>1</span>, <span class='fl'>0.15</span>), <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='fl'>1</span>, <span class='fl'>100</span>))

<span class='co'># Plot to view discontinuity</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='kw pkg'>stats</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/r/stats/ecdf.html'>ecdf</a></span>(<span class='no'>normal_ratios</span>))</div><div class='img'><img src='detect_chasing-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='kw pkg'>stats</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/r/stats/ecdf.html'>ecdf</a></span>(<span class='no'>chased_ratios</span>))</div><div class='img'><img src='detect_chasing-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='fu'>detect_chasing</span>(<span class='no'>normal_ratios</span>)</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'><span class='fu'>detect_chasing</span>(<span class='no'>chased_ratios</span>)</div><div class='output co'>#&gt; [1] TRUE</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Dan Snow.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


